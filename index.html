<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FitBit API Demo</title>
</head>
<body>
    <h1>FitBit API Demo</h1>
    <button id="authorize">Authorize and Fetch Heart Rate Data</button>
    <pre id="status">Click the button above to get started.</pre> <!-- Displays output -->
    <script src="chat.js"></script>
</body>

<script>
  // Listen for messages from the JavaScript
  window.addEventListener("message", function(event) {
    if (event.origin !== "https://nicholas888444.github.io") {
      // You can also add other checks for security
      return;
    }

    // Extract the data sent from the JavaScript
    const data = event.data;
    
    // Send the data to Unity via SendMessage
    if (data) {
      SendMessage("FitbitDataReceiver", "ReceiveData", JSON.stringify(data));
    }
  });
</script>
    
</html>
